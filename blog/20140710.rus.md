10.07.2014
==========

Короче, обновил XML::LibXML с 1.7 на 2.0. Хуяк - в логи полезла куча
говна, потому что в "двойке" при обращении к переменной, содержащей
ссылку на объект, в скалярном контексте, получаешь уже не
XML::LibXML::Document=SCALAR(0xdeadbeef), а сразу всё содержимое
XML-документа - ннна, сука!

А у меня содержимые XML-домов идут в отдельный ложек спецально для них,
а остальных логах - вот эти вот адреса в хексе, я их использую при
трассировке как идентификатор объекта при поиске того, что с чем
произошло и почему.

И, короче, пиздец... Надо как-то вычистить отовсюду `$log->debug("The
$dom DOM has been loaded from cache")`, а заодно втулить де-то
процедуру, которая будет находить этот адрес и подставлять его в
sprintf-выражение, будет что-то типа `$log->debug(mm_sprintify("The %s
DOM has been loaded from cache", $dom)`, а заодно можно, чтоб можно было
сказать `$log->trace("The hash contains: %s", \%hushhush)`.

И хорошо бы, есди б у Log::Log4perl можно было б настроить
функцию-перехвачик, которая бы что-то делала с отправляемой мессагой до
того, как серануть её в каналы. Там даже есть параметр warp_message, но
это реализовано только для некоторых аппендеров, кажется, чуть ли не
только для одного. Притом, что в рассылке девелоперов этой либы данный
вопрос кто-то подымал аж в 2010-м, но девелоперы обломались, кто-то,
кажется, даже сказал, что не представляет себе, зачем это может быть
нужно. :)

Может, потом уберу вызов `mm_sprintify()` изнутри `$log->*()` и
`$self->error()`, потому что в $log будет сидеть не ссылка на
Log::Log4perl, а какое-нибудь MonkeyMan::Logger, который будет сугубо
врапером для Log::Log4perl. Сугубо седом или тем же перлом можно будет
просто выкусить вызов mm_sprintify вместе со скобками, да и всё. Но это
надо переключиться на MonkeyMan::Logger, что, в общем-то, щас на хуй не
нужно, есть вопросы и погорячее.
